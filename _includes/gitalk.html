{%- if page.comments != false and jekyll.environment == "production" -%}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

<span style="color:gray;font-size:smaller;">
    评论系统用github账号登录就可以啦！</br><b>↓↓↓注意：代码请麻烦使用<a href="https://www.markdown.xyz/basic-syntax/#code">Markdown语法</a>排版好（<a href="https://www.markdown.xyz/extended-syntax/#fenced-code-blocks">大段代码的语法</a>）再评论，谢谢↓↓↓</b>
</span>
<div id="gitalk-container"></div>

<script>
    const gitalk = new Gitalk({
        clientID: "{{site.gitalk.clientID}}",
        clientSecret: "{{site.gitalk.clientSecret}}",
        repo: "{{site.gitalk.repo}}",
        owner: "{{site.gitalk.owner}}",
         /* A configuration in this file: id */
        id: "{{page.url | remove: ".html" | split: '/' | join ' ' | strip}}",
        admin: [
            {% for gitalk_admin in site.gitalk.admin %}
                "{{gitalk_admin}}",
            {% endfor %}
        ],
        labels: [
            {% for gitalk_lable in site.gitalk.labels %}
                "{{ gitalk_lable }}",
            {% endfor %}
        ],
        pagerDirection: "{{site.gitalk.pagerDirection}}",
        distractionFreeMode: {{site.gitalk.distractionFreeMode}},
        createIssueManually: {{site.gitalk.createIssueManually}}
    })

    gitalk.render("gitalk-container")
</script>
{%- endif -%}
